<!DOCTYPE html>
<html data-ng-app="application">

<head>
    <meta charset="UTF-8">
    <title>apollo</title>
    <link rel="stylesheet" type="text/css" href="../../vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../../vendor/angular/angular-toastr-1.4.1.min.css">
    <link rel="stylesheet" type="text/css" media='all' href="../../vendor/angular/loading-bar.min.css">
    <link rel="stylesheet" type="text/css" href="../../styles/common-style.css">
</head>

<body>

<div ng-include="'../common/nav.html'"></div>

<div class="container-fluid">
    <div class="app" ng-controller="AppConfigController as appConfig">

        <!--配置信息-->
        <div id="config-info">

            <!--具体配置信息-->
            <div class="row config-info-container">
                <!--tag导航-->
                <div class="col-md-2">
                    <div id="treeview"></div>
                </div>

                <div class="col-md-10 config-item-container">

                    <div ng-repeat="namespace in namespaces">
                        <div class="panel">
                            <header class="panel-heading">
                                <div class="row">
                                    <div class="col-md-4">
                                        <b>{{namespace.namespace.namespaceName}}</b>
                                                <span class="label label-info" ng-show="namespace.itemModifiedCnt > 0">有修改,可发布
                                                <span class="badge">{{namespace.itemModifiedCnt}}</span></span>
                                    </div>
                                    <div class="col-md-7">
                                        <div class="btn-toolbar" role="toolbar" aria-label="...">
                                            <div class="btn-group" role="group" aria-label="...">
                                                <button type="button"
                                                        class="btn btn-default btn-sm J_tableview_btn">发布
                                                </button>
                                                <button type="button"
                                                        class="btn btn-default btn-sm J_tableview_btn">回滚
                                                </button>
                                                <button type="button"
                                                        class="btn btn-default btn-sm J_historyview_btn">
                                                    查看历史版本
                                                </button>
                                            </div>
                                            <div class="btn-group" role="group" aria-label="...">
                                                <div class="btn-group" role="group">
                                                    <button type="button"
                                                            class="btn btn-default btn-sm J_tableview_btn">授权
                                                    </button>
                                                    <button type="button"
                                                            class="btn btn-default btn-sm J_tableview_btn">克隆
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="btn-group" role="group" aria-label="...">
                                                <button type="button"
                                                        class="btn btn-default btn-sm J_tableview_btn">文本
                                                </button>
                                                <button type="button"
                                                        class="btn btn-default btn-sm J_tableview_btn">表格
                                                </button>
                                                <button type="button"
                                                        class="btn btn-default btn-sm J_historyview_btn">
                                                    更改日志
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-1 text-right">
                                        &nbsp;
                                        <a data-toggle="tooltip" data-placement="top" title="修改配置">
                                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                        </a>
                                    </div>
                                </div>
                            </header>


                            <table class="table table-bordered text-center table-hover">
                                <thead>
                                <tr>
                                    <th>
                                        Key
                                    </th>
                                    <th>
                                        value
                                    </th>
                                    <th>
                                        备注
                                    </th>
                                    <th>
                                    最后修改人
                                    </th>
                                    <th>
                                    最后修改时间
                                    </th>
                                </tr>
                                </thead>
                                <tbody ng-repeat="config in namespace.items">

                                <tr ng-class="{warning:config.modified}">
                                    <td>
                                        {{config.item.key}}
                                    </td>
                                    <td>
                                        {{config.item.value}}
                                    </td>
                                    <td>
                                        {{config.item.comment}}
                                    </td>
                                    <td>
                                    {{config.item.dataChangeLastModifiedBy}}
                                    </td>
                                    <td>
                                    {{config.item.dataChangeLastModifiedTime | date: 'yyyy-MM-dd HH:mm:ss'}}
                                    </td>

                                </tr>
                                </tbody>
                            </table>
                            <!--历史修改视图-->
                            <div class="J_historyview Hide historyview">
                                <div class="row">
                                    <div class="col-md-11 col-md-offset-1 list" style="">
                                        <div class="media">
                                            <img src="../../img/history.png"/>

                                            <div class="row">
                                                <div class="col-md-10"><h5 class="media-heading">2016-02-23
                                                    12:23
                                                    王玉</h5>

                                                    <p>
                                                        修改comment
                                                    </p></div>
                                                <div class="col-md-2 text-right">
                                                    <button class="btn btn-default" type="submit">查看修改内容
                                                    </button>
                                                </div>
                                            </div>
                                            <hr>
                                        </div>
                                        <div class="media">
                                            <img src="../../img/history.png"/>

                                            <div class="row">
                                                <div class="col-md-10"><h5 class="media-heading">2016-02-23
                                                    12:23
                                                    王玉</h5>

                                                    <p>
                                                        修改comment
                                                    </p></div>
                                                <div class="col-md-2 text-right">
                                                    <button class="btn btn-default" type="submit">查看修改内容
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>

</div>

<div ng-include="'../common/footer.html'"></div>

<!-- jquery.js -->
<script src="../../vendor/jquery.js" type="text/javascript"></script>

<!--lodash.js-->
<script src="../../vendor/lodash.min.js" type="text/javascript"></script>

<!--angular-->
<script src="../../vendor/angular/angular.min.js"></script>
<script src="../../vendor/angular/angular-ui-router.min.js"></script>
<script src="../../vendor/angular/angular-resource.min.js"></script>
<script src="../../vendor/angular/angular-toastr-1.4.1.tpls.min.js"></script>
<script src="../../vendor/angular/loading-bar.min.js"></script>

<!-- bootstrap.js -->
<script src="../../vendor/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../vendor/bootstrap/js/bootstrap-treeview.min.js" type="text/javascript"></script>

<!--biz script-->
<script type="application/javascript" src="../../scripts/app.js"></script>

<!--directive-->

<!--service-->
<script type="application/javascript" src="../../scripts/services/AppService.js"></script>
<script type="application/javascript" src="../../scripts/services/EnvService.js"></script>
<script type="application/javascript" src="../../scripts/services/ConfigService.js"></script>
<script type="application/javascript" src="../../scripts/services/VersionService.js"></script>

<!--controller-->
<script type="application/javascript" src="../../scripts/controller/app/AppConfigController.js"></script>

</body>
</html>
